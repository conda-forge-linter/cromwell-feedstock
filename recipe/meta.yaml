{% set version = "45.1" %}

package:
  name: cromwell
  version: {{ version }}

source:
  - url: https://github.com/broadinstitute/cromwell/releases/download/{{ version }}/cromwell-{{ version }}.jar
    sha256: 41be8b941ac2012f0d256a567024cacf965083a2a550ffc584c40c734e4af147
    folder: cromwell
  - url: https://github.com/broadinstitute/cromwell/releases/download/{{ version }}/womtool-{{ version }}.jar
    sha256: 349e4a5dd5a6a7efcd3a8f5f5fd1d8a8d6f6912ec9adde285ce700c3a7e5dfe5
    folder: womtool

build:
  # Cannot build on Windows because findutils is not available
  skip: true  # [win]
  number: 0

requirements:
  run:
    - openjdk >=8,<9
    - python
    - findutils

test:
  commands:
    - cromwell --version 2>&1 | grep "cromwell"
    - womtool --help 2>&1 | grep "Usage"

about:
  home: https://github.com/broadinstitute/cromwell
  license: "BSD-3-Clause"
  license_file: "LICENSE.txt"
  summary: "A Workflow Management System geared towards scientific workflows described in WDL"

extra:
  recipe-maintainers:
    - notestaff
    - chapmanb
    - micknudsen 
    - rhpvorderman
